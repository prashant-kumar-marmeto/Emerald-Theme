{{ 'marmeto-redirection-popup.css' | asset_url | stylesheet_tag }}
<script src="{{ 'marmeto-redirection-popup.js' | asset_url }}" defer="defer"></script>
<style>
  .marmeto-rp__content {
    background: {{ section.settings.background_color }};
  }
  .marmeto-popup__button.button {
    background-color: {{ section.settings.button_color }};
    padding: 0 60px;
    line-height: 60px;
  }
</style>
{% if section.settings.enable_popup %}
<marmeto-redirection-popup id="marmeto_popup" data-author="AJ@Marmeto">
  <div class="marmeto-rp">
    <span class="marmeto-popup__over-lay"></span>
    <div class="marmeto-rp__content">
      <div class="marmeto-close-popup">x</div>
      
        <div class="marmeto-rp__heading" data-country-details>
          <h1 class="marmeto-popup__heading">{{ section.settings.heading }}</h1>
        </div>
      
      
      {% if section.settings.image != blank %}
        <a href="{{ section.settings.redirection_link }}" class="marmeto-rp__link">
          {% render 'responsive-picture', mobileImage: section.settings.image_mobile, desktopImage: section.settings.image %}
        </a>
      {% endif %}

      {% if section.settings.show_button %}     
        <a href="{{ section.settings.redirection_link }}" class="button button--primary marmeto-popup__button">{{ section.settings.button_label }}</a>
      {% endif %}
      {% if section.settings.close_statement != blank %}
        <p class="marmeto-close-statement">{{ section.settings.close_statement }}</p>
      {% endif %}  
    </div>
  </div>
</marmeto-redirection-popup>
{% endif %}





{% schema %}
  {
    "name": "Marmeto Redirection Popup",
    "tag": "section",
    "settings": [
      {
        "type": "checkbox",
        "id": "enable_popup",
        "label": "Enable Popup",
        "default": true
      },
      {
        "type": "header",
        "content": "General settings"
      },
      {
        "type": "checkbox",
        "id": "show_heading",
        "label": "Show heading",
        "default": true
      },
      {
        "type": "checkbox",
        "id": "show_button",
        "label": "Show redirection button",
        "default": true
      },
      {
        "type": "text",
        "id": "button_label",
        "label": "Button label",
        "default": "Start Shopping"
      },
      {
        "type": "color",
        "id": "button_color",
        "label": "Button color",
        "default": "#684A19"
      },
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Hello There!"
      },
      {
        "type": "url",
        "id": "redirection_link",
        "label": "Redirection link"
      },
      {
        "type": "header",
        "content": "Image settings"
      },
      {
        "type": "image_picker",
        "id": "image",
        "label": "Image"
      },
      {
        "type": "image_picker",
        "id": "image_mobile",
        "label": "Mobile image",
        "info": "Use image with height 400"
      },
      {
        "type": "text",
        "id": "close_statement",
        "label": "Continue shopping text",
        "default": "No Thanks, you can continue your shopping."
      },
      {
        "type": "color",
        "id": "background_color",
        "label": "Background color",
        "default": "#FFFFFF"
      }
    ]
  }
{% endschema %}